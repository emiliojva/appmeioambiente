<!--
  Generated template for the AddIndividuoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <button ion-button menuToggle icon-only>
            <ion-icon name='menu'></ion-icon>
        </button>
        <ion-title>add-individuo</ion-title>
    </ion-navbar>
      
    <ion-item>
        
        <ion-label>Local</ion-label>
        
        <ion-select [(ngModel)]="local_selected" (ionChange)="reloadSelectEstacao($event)" okText="Ok" cancelText="Cancelar" attr-placeholder="Selecione um local" >
            <ion-option *ngFor="let l of locais" value="{{l.id}}">{{l.descricao}}</ion-option>
        </ion-select>
        
    </ion-item>

    

</ion-header>


<ion-content padding>

    <form [formGroup]="addIndividuoFormGroup" (ngSubmit)="logForm()">

        <ion-list>

            <ion-item *ngIf="local_selected">
    
                <ion-label stacked>Estação</ion-label>
                
                <ion-select [(ngModel)]="estacao_selected" formControlName="estacao_id" (ionChange)="reloadIndividuos()"  #selectEstacao   okText="Ok" cancelText="Cancelar" attr-placeholder="Selecione uma estação" id="tronco_estacao">
                    <ion-option *ngFor="let e of estacaos" value="{{e.id}}">{{e.codigo}}</ion-option>
                </ion-select>
                    
            </ion-item>
  
            <!-- <ion-item>
                <ion-label stacked>Estação</ion-label>
                <ion-input type="text" id="tronco_estacao"></ion-input>
            </ion-item> -->

            <ion-item>
              <ion-label stacked>Numero de Troncos</ion-label>
              <ion-input type="number" formControlName="numero_de_troncos" id="numero_troncos" required></ion-input>
            </ion-item>
          
            <ion-item>
              <ion-label stacked>Altura</ion-label>
              <ion-input formControlName="altura" type="number"  id="individuo_altura" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label stacked>Observação</ion-label>
              <ion-textarea formControlName="observacao"  id="individuo_observacao" rows="3" required></ion-textarea>
            </ion-item>

            <!-- <ion-input type="hidden"  [value]="especie_selected"></ion-input> -->
            <!-- [(ngModel)]="especie_selected" -->
            <ion-list radio-group formControlName="especie_id">

                <ion-list-header>
                    Selecione a especie:
                </ion-list-header>

                <ion-item *ngFor="let especie of especies"> 
                    <ion-label>{{ especie.codigo | uppercase}}</ion-label>
                    <ion-radio color="dark" value="{{ especie.id }}"></ion-radio>
                </ion-item>
                
            </ion-list>

            <ion-buttons padding>
              <button ion-button>Gravar</button>
              <button ion-button type='reset'>Limpar</button>
            </ion-buttons>
          
        </ion-list>
  
      </form>

      
      
        <p>Form value: {{ addIndividuoFormGroup.value | json }}</p>
        <p>Form status: {{ addIndividuoFormGroup.status | json }}</p>
        <p>especieID: {{ addIndividuoFormGroup.value.especie_id }}</p>

</ion-content>
