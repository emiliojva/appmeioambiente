<!--
  Generated template for the AddPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>

    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>
      Adicionar Estação
    </ion-title>
  
  </ion-navbar>

  <ion-item>
      
      <ion-label>Local</ion-label>

      <ion-select [(ngModel)]="local_selected" okText="Ok" cancelText="Cancelar" placeholder="Selecione um local">
        <ion-option *ngFor="let l of locais" value="{{l.id}}">{{l.descricao}}</ion-option>
      </ion-select>
      
      <!-- <ion-select okText="Ok" [(ngModel)]="local_selected.id" cancelText="Cancelar" placeholder="Selecione um local">
        <ion-option value="{{local_selected.id}}" selected>{{local_selected.descricao}}</ion-option>
      </ion-select> -->
      
  </ion-item>

</ion-header>

<ion-content padding>

    <form [formGroup]="estacaoForm" (ngSubmit)="logForm()">

      <ion-list>

          <ion-input type="hidden" [value]="local_selected" formControlName="local_id" required></ion-input>

          <ion-item>
            <ion-label fixed>Código</ion-label>
            <ion-input type="text" formControlName="codigo" placeholder="Ex: C03" id="estacao_codigo" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Data</ion-label>
            <ion-datetime formControlName="data" displayFormat="DD/MM/YYYY" cancelText="Cancelar" doneText="OK" required></ion-datetime>
          </ion-item>
        
          <ion-item>
            <ion-label fixed>Parcela</ion-label>
            <ion-input formControlName="parcela" type="number"  placeholder="1"  id="estacao_parcela" required></ion-input>
          </ion-item>
        
          <ion-item>
            <ion-label fixed>Observação</ion-label>
            <ion-textarea formControlName="obs" placeholder="Descreva a Estação"  id="estacao_observacao" rows="5" required></ion-textarea>
          </ion-item>

          <button ion-button>Gravar</button>
          <button ion-button type='reset'>Limpar</button>
        
      </ion-list>

    </form>

    <p>Form value: {{ estacaoForm.value | json }}</p>
    <p>Form status: {{ estacaoForm.status | json }}</p>
    <p>LocalID: {{ local_selected }}</p>
    <!-- <p>Form status: {{ estacaoForm.parcela | json }}</p> -->
    <!-- <p>Form status: {{ estacaoForm.observacao | json }}</p> -->
      
</ion-content>
